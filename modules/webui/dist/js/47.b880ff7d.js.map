{"version":3,"file":"js/47.b880ff7d.js","mappings":"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","sources":["webpack://kams/./src/components/dropdown.vue","webpack://kams/src/components/dropdown.vue","webpack://kams/./src/components/dropdown.vue?69a8","webpack://kams/./src/components/dropdown.vue?a046","webpack://kams/./src/views/login/index.vue","webpack://kams/./src/views/login/copyIcon.vue","webpack://kams/src/views/login/copyIcon.vue","webpack://kams/./src/views/login/copyIcon.vue?b96d","webpack://kams/./src/views/login/copyIcon.vue?2538","webpack://kams/src/views/login/index.vue","webpack://kams/./src/views/login/index.vue?ff45","webpack://kams/./src/views/login/index.vue?a173"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dropdown-wrapper\"},[_c('div',{staticClass:\"dropdown\",on:{\"click\":function($event){_vm.isShowSelect = !_vm.isShowSelect}}},[_c('input',{staticClass:\"select-label\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":`${_vm.text}`}}),_vm._m(0)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowSelect),expression:\"isShowSelect\"}],staticClass:\"dropdown-menu\"},_vm._l((_vm.menu),function(item,index){return _c('div',{key:index,staticClass:\"select-item\",on:{\"click\":function($event){return _vm.selectSslFn(item)}}},[_vm._v(\" \"+_vm._s(`${item}`)+\" \")])}),0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"el-icon-arrow-down\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dropdown-wrapper\">\r\n    <div class=\"dropdown\" @click=\"isShowSelect = !isShowSelect\">\r\n      <input class=\"select-label\" type=\"text\" readonly :value=\"`${text}`\" />\r\n      <div class=\"icon\">\r\n        <i class=\"el-icon-arrow-down\"></i>\r\n      </div>\r\n    </div>\r\n    <div class=\"dropdown-menu\" v-show=\"isShowSelect\">\r\n      <div\r\n        class=\"select-item\"\r\n        v-for=\"(item, index) in menu\"\r\n        :key=\"index\"\r\n        @click=\"selectSslFn(item)\"\r\n      >\r\n        {{ `${item}` }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'dropdown',\r\n  data() {\r\n    return {\r\n      isShowSelect: false,\r\n      text: ''\r\n    };\r\n  },\r\n  props: {\r\n    menu: Array,\r\n    current: String\r\n  },\r\n  methods: {\r\n    selectSslFn(ssl) {\r\n      this.isShowSelect = false;\r\n      this.text = ssl;\r\n      this.$emit('select', ssl);\r\n    },\r\n    close(e) {\r\n      if (!this.$el.contains(e.target)) {\r\n        this.isShowSelect = false;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    current(val) {\r\n      this.text = val;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.text = this.current || this.menu[0];\r\n    document.addEventListener('click', this.close);\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('click', this.close);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.dropdown-wrapper {\r\n  position: relative;\r\n  height: 100%;\r\n  border-radius: inherit;\r\n}\r\n.dropdown {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  height: 100%;\r\n  padding: 0 5px;\r\n  width: auto;\r\n  border-radius: inherit;\r\n  background: #f5f7fa;\r\n  cursor: pointer;\r\n\r\n  .select-label {\r\n    width: 3.8rem;\r\n    text-align: center;\r\n    // padding: 0 10px;\r\n    background: transparent;\r\n    height: 100%;\r\n    outline: none;\r\n    border: none;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .icon {\r\n    margin-left: -5px;\r\n  }\r\n}\r\n.dropdown-menu {\r\n  position: absolute;\r\n  left: 0;\r\n  top: calc(100% + 5px);\r\n  padding: 10px 0;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  border: 1px solid #e4e7ed;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  z-index: 2;\r\n\r\n  .select-item {\r\n    min-width: fit-content;\r\n    padding: 5px 15px;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background: #f0f0f0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dropdown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dropdown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dropdown.vue?vue&type=template&id=4058cd88\"\nimport script from \"./dropdown.vue?vue&type=script&lang=js\"\nexport * from \"./dropdown.vue?vue&type=script&lang=js\"\nimport style0 from \"./dropdown.vue?vue&type=style&index=0&id=4058cd88&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"bg\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(256, 256, 256, 0.8)\"}},[_c('div',{staticClass:\"login-container\"},[_vm._m(0),_c('div',{staticClass:\"tab\"},[_c('div',{staticClass:\"btn tab-login\",class:{ current: _vm.whichTab },on:{\"click\":function($event){return _vm.changeTab('login')}}},[_vm._v(\" 登录 \")]),_c('div',{staticClass:\"btn tab-register\",class:{ current: !_vm.whichTab },on:{\"click\":function($event){return _vm.changeTab('register')}}},[_vm._v(\" 配置 \")]),_c('div',{staticClass:\"bottom-line\",class:{ 'line-right': !_vm.whichTab }})]),_c('transition-group',{staticClass:\"pps-e\",attrs:{\"name\":\"pps-e\",\"mode\":\"out-in\"}},[(_vm.whichTab)?_c('div',{key:\"login\",staticClass:\"border\"},[_c('pps-form',{on:{\"submit\":function($event){return _vm.loginFn()}}},[_c('pps-input',{attrs:{\"clearable\":\"\",\"content\":_vm.loginForm.username,\"icon\":\"pps-icon-admin\",\"placeholder\":\"用户名\"},on:{\"update:content\":function($event){return _vm.$set(_vm.loginForm, \"username\", $event)}}}),_c('pps-input',{attrs:{\"clearable\":\"\",\"viewPassword\":\"\",\"content\":_vm.loginForm.password,\"icon\":\"pps-icon-lock\",\"type\":\"password\",\"placeholder\":\"密码\"},on:{\"update:content\":function($event){return _vm.$set(_vm.loginForm, \"password\", $event)}}}),_c('div',[_c('a',{staticClass:\"forget\",on:{\"click\":function($event){return _vm.showDialog('forget')}}},[_vm._v(\"忘记密码？\")])]),_c('pps-button',{staticClass:\"login\",attrs:{\"theme\":\"confirm\"}},[_vm._v(\"登录\")])],1)],1):_c('div',{key:\"config\",staticClass:\"border config\"},[_c('pps-form',{on:{\"submit\":function($event){return _vm.submitConfigFn()},\"reset\":function($event){return _vm.resetConfigFn()}}},[_c('pps-input',{staticStyle:{\"position\":\"relative\"},attrs:{\"clearable\":\"\",\"content\":_vm.configForm.host,\"icon\":\"pps-icon-host\",\"placeholder\":\"无前缀后端IP地址\"},on:{\"update:content\":function($event){return _vm.$set(_vm.configForm, \"host\", $event)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('dp',{attrs:{\"current\":_vm.configForm.protocol,\"menu\":['https', 'http']},on:{\"select\":_vm.selectSslFn}})]},proxy:true}])}),_c('pps-input',{attrs:{\"clearable\":\"\",\"content\":_vm.configForm.port,\"icon\":\"pps-icon-port\",\"placeholder\":\"后端端口号\"},on:{\"update:content\":function($event){return _vm.$set(_vm.configForm, \"port\", $event)}}}),_c('div',[_c('p',[_vm._v(\"警告！若无需分离前后端请谨慎修改！\")])]),_c('div',{staticClass:\"submit\"},[_c('pps-button',{attrs:{\"theme\":\"confirm\"}},[_vm._v(\"提交\")]),_c('pps-button',{attrs:{\"theme\":\"\",\"type\":\"reset\"}},[_vm._v(\"重置\")])],1)],1)],1)])],1),_c('div',{staticClass:\"foot\"},[_c('div',{staticClass:\"list\"}),_c('div',{staticClass:\"copylist\"},[_c('copy-icon'),_vm._v(\" Powered by kotori \")],1)]),_c('pps-dialog',{attrs:{\"content\":_vm.dialogData.message,\"title\":_vm.dialogData.title,\"show\":_vm.isShowDialog},on:{\"update:show\":function($event){_vm.isShowDialog=$event},\"confirmed\":function($event){_vm.loading = false},\"canceled\":function($event){_vm.loading = false}}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('div',{staticClass:\"login-header\"},[_c('img',{attrs:{\"src\":require(\"@/assets/favicon.svg\"),\"alt\":\"\"}}),_c('div',[_vm._v(\"Kotori\")])]),_c('div',{staticClass:\"login-desc\"},[_vm._v(\"kams 是一个专为Kotori打造的后台管理界面\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"viewBox\":\"64 64 896 896\",\"focusable\":\"false\",\"data-icon\":\"copyright\",\"width\":\"1em\",\"height\":\"1em\",\"fill\":\"currentColor\",\"aria-hidden\":\"true\"}},[_c('path',{attrs:{\"d\":\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <svg\r\n    viewBox=\"64 64 896 896\"\r\n    focusable=\"false\"\r\n    data-icon=\"copyright\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    fill=\"currentColor\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <path\r\n      d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z\"\r\n    ></path>\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'copyIcon'\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./copyIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./copyIcon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./copyIcon.vue?vue&type=template&id=b968edb0\"\nimport script from \"./copyIcon.vue?vue&type=script&lang=js\"\nexport * from \"./copyIcon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"bg\"\r\n    v-loading=\"loading\"\r\n    element-loading-text=\"拼命加载中\"\r\n    element-loading-spinner=\"el-icon-loading\"\r\n    element-loading-background=\"rgba(256, 256, 256, 0.8)\"\r\n  >\r\n    <div class=\"login-container\">\r\n      <div class=\"logo\">\r\n        <div class=\"login-header\">\r\n          <img src=\"@/assets/favicon.svg\" alt=\"\" />\r\n          <div>Kotori</div>\r\n        </div>\r\n        <div class=\"login-desc\">kams 是一个专为Kotori打造的后台管理界面</div>\r\n      </div>\r\n\r\n      <div class=\"tab\">\r\n        <div @click=\"changeTab('login')\" :class=\"{ current: whichTab }\" class=\"btn tab-login\">\r\n          登录\r\n        </div>\r\n        <div\r\n          @click=\"changeTab('register')\"\r\n          :class=\"{ current: !whichTab }\"\r\n          class=\"btn tab-register\"\r\n        >\r\n          配置\r\n        </div>\r\n        <div :class=\"{ 'line-right': !whichTab }\" class=\"bottom-line\"></div>\r\n      </div>\r\n\r\n      <transition-group name=\"pps-e\" mode=\"out-in\" class=\"pps-e\">\r\n        <div class=\"border\" v-if=\"whichTab\" key=\"login\">\r\n          <pps-form @submit=\"loginFn()\">\r\n            <pps-input\r\n              clearable\r\n              :content.sync=\"loginForm.username\"\r\n              icon=\"pps-icon-admin\"\r\n              placeholder=\"用户名\"\r\n            ></pps-input>\r\n            <pps-input\r\n              clearable\r\n              viewPassword\r\n              :content.sync=\"loginForm.password\"\r\n              icon=\"pps-icon-lock\"\r\n              type=\"password\"\r\n              placeholder=\"密码\"\r\n            ></pps-input>\r\n            <div><a @click=\"showDialog('forget')\" class=\"forget\">忘记密码？</a></div>\r\n            <pps-button theme=\"confirm\" class=\"login\">登录</pps-button>\r\n          </pps-form>\r\n        </div>\r\n\r\n        <div class=\"border config\" v-else key=\"config\">\r\n          <pps-form @submit=\"submitConfigFn()\" @reset=\"resetConfigFn()\">\r\n            <pps-input\r\n              clearable\r\n              :content.sync=\"configForm.host\"\r\n              icon=\"pps-icon-host\"\r\n              placeholder=\"无前缀后端IP地址\"\r\n              style=\"position: relative\"\r\n            >\r\n              <template v-slot:prepend>\r\n                <dp\r\n                  @select=\"selectSslFn\"\r\n                  :current=\"configForm.protocol\"\r\n                  :menu=\"['https', 'http']\"\r\n                ></dp>\r\n              </template>\r\n            </pps-input>\r\n            <pps-input\r\n              clearable\r\n              :content.sync=\"configForm.port\"\r\n              icon=\"pps-icon-port\"\r\n              placeholder=\"后端端口号\"\r\n            ></pps-input>\r\n            <div><p>警告！若无需分离前后端请谨慎修改！</p></div>\r\n            <div class=\"submit\">\r\n              <pps-button theme=\"confirm\">提交</pps-button>\r\n              <pps-button theme=\"\" type=\"reset\">重置</pps-button>\r\n            </div>\r\n          </pps-form>\r\n        </div>\r\n      </transition-group>\r\n    </div>\r\n\r\n    <div class=\"foot\">\r\n      <div class=\"list\"></div>\r\n      <div class=\"copylist\">\r\n        <copy-icon></copy-icon>\r\n        Powered by kotori\r\n      </div>\r\n    </div>\r\n\r\n    <pps-dialog\r\n      :content=\"dialogData.message\"\r\n      :title=\"dialogData.title\"\r\n      :show.sync=\"isShowDialog\"\r\n      @confirmed=\"loading = false\"\r\n      @canceled=\"loading = false\"\r\n    ></pps-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport copyIcon from './copyIcon.vue';\r\nimport { loginAPI } from '@/api';\r\nimport { mapMutations, mapState } from 'vuex';\r\n// import { configureAxiosInstance } from '@/utils/request';\r\nimport dp from '@/components/dropdown';\r\n// eslint-disable-next-line no-unused-vars\r\nimport { submitBackendConfig } from '@/utils/backendConfig';\r\n\r\nexport default {\r\n  name: 'myLogin',\r\n  components: { copyIcon, dp },\r\n  data() {\r\n    return {\r\n      t: '',\r\n      tabsFlag: 'login',\r\n      isShowDialog: false,\r\n      loading: false,\r\n      isShowSelect: false,\r\n      dialogData: {},\r\n      loginForm: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      configForm: {\r\n        protocol: 'https',\r\n        host: '',\r\n        port: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations('layoutOption', [\r\n      'updateToken',\r\n      'updateHost',\r\n      'updatePort',\r\n      'updateProtocol',\r\n      'updateUsername',\r\n      'updatePassword'\r\n    ]),\r\n    changeTab(flag) {\r\n      this.tabsFlag = flag;\r\n    },\r\n    selectSslFn(ssl) {\r\n      // this.isShowSelect = false;\r\n      this.configForm.protocol = ssl;\r\n    },\r\n    submitConfigFn() {\r\n      const configData = {\r\n        host: this.configForm.host,\r\n        port: this.configForm.port,\r\n        protocol: this.configForm.protocol,\r\n        username: this.loginForm.username,\r\n        password: this.loginForm.password\r\n      };\r\n      submitBackendConfig({ configData });\r\n    },\r\n    resetConfigFn() {\r\n      this.configForm.host = this.host;\r\n      this.configForm.port = this.port;\r\n      this.configForm.protocol = this.protocol;\r\n      this.$message.info('已重置！');\r\n    },\r\n    async loginFn() {\r\n      this.loading = true;\r\n      try {\r\n        const { data: res } = await loginAPI(this.loginForm);\r\n        if (res.token) {\r\n          this.updateToken(res.token);\r\n          this.updateUsername(this.loginForm.username);\r\n          this.updatePassword(this.loginForm.password);\r\n          this.loading = false;\r\n          this.$router.push('/');\r\n        }\r\n      } catch (error) {\r\n        this.loading = false;\r\n        if (error.response.status === 404) return this.showDialog('404');\r\n        if (error.response.status === 401) return this.showDialog('401');\r\n        console.log(error);\r\n        this.$dialog({ title: '错误', content: error.message }).catch((action) => {});\r\n      }\r\n    },\r\n    showDialog(name, msg) {\r\n      if (name && name === 'forget') {\r\n        this.dialogData = {\r\n          title: '提示',\r\n          message: '暂未开放！'\r\n        };\r\n      } else if (name && name === '401') {\r\n        this.dialogData = {\r\n          title: '警告',\r\n          message: '账号或密码不正确！'\r\n        };\r\n      } else if (name && name === '404') {\r\n        this.dialogData = {\r\n          title: '警告',\r\n          message: '请求资源不存在！检查后端服务是否正常！'\r\n        };\r\n      } else {\r\n        this.dialogData = {\r\n          title: '警告',\r\n          message: msg\r\n        };\r\n      }\r\n      this.isShowDialog = true;\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('layoutOption', [\r\n      'host',\r\n      'port',\r\n      'protocol',\r\n      'username',\r\n      'password',\r\n      'sandBoxPort'\r\n    ]),\r\n    whichTab() {\r\n      return this.tabsFlag === 'login';\r\n    }\r\n  },\r\n  watch: {\r\n    host: {\r\n      handler(newVal, oldVal) {\r\n        this.configForm.host = newVal;\r\n      },\r\n      immediate: true\r\n    },\r\n    port: {\r\n      handler(newVal, oldVal) {\r\n        this.configForm.port = newVal;\r\n      },\r\n      immediate: true\r\n    },\r\n    protocol: {\r\n      handler(newVal, oldVal) {\r\n        this.configForm.protocol = newVal;\r\n      },\r\n      immediate: true\r\n    },\r\n    username: {\r\n      handler(newVal, oldVal) {\r\n        this.loginForm.username = newVal;\r\n      },\r\n      immediate: true\r\n    },\r\n    password: {\r\n      handler(newVal, oldVal) {\r\n        this.loginForm.password = newVal;\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted() {},\r\n  created() {\r\n    this.configForm.protocol = this.protocol || 'https://';\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cmd-search-select {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  height: 100%;\r\n  padding: 0 5px;\r\n  width: auto;\r\n  border-radius: inherit;\r\n  background: #f5f7fa;\r\n  cursor: pointer;\r\n\r\n  .select-label {\r\n    width: 3.8rem;\r\n    text-align: center;\r\n    // padding: 0 10px;\r\n    background: transparent;\r\n    height: 100%;\r\n    outline: none;\r\n    border: none;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .icon {\r\n    margin-left: -5px;\r\n  }\r\n}\r\n\r\n.select-dropdown {\r\n  position: absolute;\r\n  left: 0;\r\n  top: calc(100% + 5px);\r\n  padding: 10px 0;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  border: 1px solid #e4e7ed;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  z-index: 2;\r\n\r\n  .select-item {\r\n    min-width: fit-content;\r\n    padding: 5px 15px;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background: #f0f0f0;\r\n    }\r\n  }\r\n}\r\n\r\n.bg {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  width: 100dvw;\r\n  height: 100dvh;\r\n  background-image: url('../../assets/bg-login.png');\r\n  background-size: 100% 100%;\r\n\r\n  .login-container {\r\n    position: relative;\r\n    flex: 1 1 0%;\r\n  }\r\n  .border {\r\n    padding: 15px;\r\n    margin-top: 10px;\r\n    text-align: center;\r\n    position: absolute;\r\n\r\n    .pps-button {\r\n      margin: 20px auto 0;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      height: 40px;\r\n    }\r\n    .login {\r\n      width: 100%;\r\n    }\r\n\r\n    & ::v-deep .pps-input-wrapper {\r\n      width: 360px;\r\n      height: 38px;\r\n      margin: 0 auto 20px;\r\n      // background: #fff;\r\n    }\r\n\r\n    a {\r\n      float: right;\r\n      color: #00aeed;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: #46c6f0;\r\n      }\r\n    }\r\n  }\r\n  .config {\r\n    .submit {\r\n      display: flex;\r\n      gap: 10px;\r\n\r\n      .pps-button {\r\n        flex-grow: 1;\r\n      }\r\n    }\r\n  }\r\n  .tab {\r\n    position: relative;\r\n    display: flex;\r\n    width: 150px;\r\n    height: 35px;\r\n    margin: 0 auto;\r\n\r\n    .btn {\r\n      width: 50%;\r\n      text-align: center;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: #00aeed;\r\n      }\r\n    }\r\n    .current {\r\n      color: #00aeed;\r\n    }\r\n    .bottom-line {\r\n      position: absolute;\r\n      bottom: 0;\r\n      background: #00aeed;\r\n      width: 50%;\r\n      height: 3px;\r\n      transition: all 0.6s ease;\r\n    }\r\n    .line-right {\r\n      right: 0;\r\n    }\r\n  }\r\n  .logo {\r\n    display: flex;\r\n    width: 100%;\r\n    margin-bottom: 60px;\r\n    margin-top: 50px;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .login-header {\r\n      display: flex;\r\n      align-items: center;\r\n      font-size: 30px;\r\n      font-weight: 600;\r\n\r\n      img {\r\n        height: 50px;\r\n        margin-right: 20px;\r\n      }\r\n    }\r\n\r\n    .login-desc {\r\n      margin-top: 10px;\r\n      font-size: 14px;\r\n      color: rgba(0, 0, 0, 0.65);\r\n    }\r\n  }\r\n  .foot {\r\n    margin-block-start: 48px;\r\n    margin-block-end: 24px;\r\n    font-size: 14px;\r\n    color: #000000b5;\r\n  }\r\n}\r\n\r\n.pps-e-enter {\r\n  transform: translateX(20px);\r\n}\r\n// .pps-e-enter-to {\r\n//   transform: translateX(0px);\r\n// }\r\n\r\n.pps-e {\r\n  display: block;\r\n  width: 390px;\r\n}\r\n\r\n.pps-e-enter-active {\r\n  transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=87e9a05c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=87e9a05c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87e9a05c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","isShowSelect","attrs","domProps","text","_m","directives","name","rawName","value","expression","_l","menu","item","index","key","selectSslFn","_v","_s","staticRenderFns","data","props","Array","current","String","methods","ssl","$emit","close","e","$el","contains","target","watch","val","mounted","document","addEventListener","beforeDestroy","removeEventListener","component","loading","class","whichTab","changeTab","loginFn","loginForm","username","$set","password","showDialog","submitConfigFn","resetConfigFn","staticStyle","configForm","host","scopedSlots","_u","fn","protocol","proxy","port","dialogData","message","title","isShowDialog","require","components","copyIcon","dp","t","tabsFlag","mapMutations","flag","configData","submitBackendConfig","$message","info","res","loginAPI","token","updateToken","updateUsername","updatePassword","$router","push","error","response","status","console","log","$dialog","content","catch","action","msg","computed","mapState","handler","newVal","oldVal","immediate","created"],"sourceRoot":""}