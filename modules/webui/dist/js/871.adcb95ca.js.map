{"version":3,"file":"js/871.adcb95ca.js","mappings":"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","sources":["webpack://kams/./src/views/bots/index.vue","webpack://kams/src/views/bots/index.vue","webpack://kams/./src/views/bots/index.vue?9ccb","webpack://kams/./src/views/bots/index.vue?57c8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{directives:[{name:\"resize-ob\",rawName:\"v-resize-ob\",value:(_vm.cardResize),expression:\"cardResize\"}]},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"},{name:\"resize-ob\",rawName:\"v-resize-ob\",value:(_vm.handleSizeChange),expression:\"handleSizeChange\"}],staticStyle:{\"width\":\"100%\",\"font-size\":\"13px\"},attrs:{\"fit\":\"\",\"border\":\"\",\"stripe\":\"\",\"data\":_vm.bots,\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"prop\":\"identity\",\"label\":\"ID\",\"sortable\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"platform\",\"label\":\"聊天平台\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"平台ID\",\"align\":\"center\"}}),(!_vm.isChangeTable)?[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"连接时间\",\"min-width\":\"90\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"trans-time\",rawName:\"v-trans-time\",value:(scope.row.status.createTime),expression:\"scope.row.status.createTime\"}]})]}}],null,false,1676180278)}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"上次发送消息时间\",\"min-width\":\"90\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"trans-time\",rawName:\"v-trans-time\",value:(scope.row.status.lastMsgTime),expression:\"scope.row.status.lastMsgTime\"}]})]}}],null,false,13296118)}),_c('el-table-column',{attrs:{\"prop\":\"status.receivedMsg\",\"label\":\"接收信息数\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"status.sentMsg\",\"label\":\"发送信息数\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"status.offlineTimes\",\"label\":\"下线次数\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"在线状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pps-icon',{attrs:{\"icon\":`pps-icon-${scope.row.status.value}`}})]}}],null,false,3960529212)}),_c('el-table-column',{attrs:{\"prop\":\"lang\",\"label\":\"使用语言\",\"align\":\"center\"}})]:_vm._e(),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pps-button',{attrs:{\"theme\":\"text\"},on:{\"click\":function($event){return _vm.handleViewDetails(scope.row)}}},[_vm._v(\"详情\")]),_c('pps-button',{attrs:{\"theme\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],2),_c('pps-dialog',{attrs:{\"show\":_vm.isShowDetailsDialog,\"title\":_vm.viewDetailsData.title},on:{\"update:show\":function($event){_vm.isShowDetailsDialog=$event}}},[_c('template',{slot:\"content\"},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":4,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"上次发送消息时间\"}},[_c('span',{directives:[{name:\"trans-time\",rawName:\"v-trans-time\",value:(_vm.viewDetailsData.content.status.lastMsgTime),expression:\"viewDetailsData.content.status.lastMsgTime\"}]})]),_c('el-descriptions-item',{attrs:{\"label\":\"接收信息数\",\"span\":2}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.content.status.receivedMsg)+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"发送信息数\"}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.content.status.sentMsg)+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"连接时间\"}},[_c('span',{directives:[{name:\"trans-time\",rawName:\"v-trans-time\",value:(_vm.viewDetailsData.content.status.createTime),expression:\"viewDetailsData.content.status.createTime\"}]})]),_c('el-descriptions-item',{attrs:{\"label\":\"在线状态\"}},[(_vm.viewDetailsData.content.status.value === 'online')?_c('span',[_c('pps-icon',{attrs:{\"icon\":\"pps-icon-online\"}}),_vm._v(\" 在线 \")],1):_c('span',[_c('pps-icon',{attrs:{\"icon\":\"pps-icon-offline\"}}),_vm._v(\" 离线 \")],1)]),_c('el-descriptions-item',{attrs:{\"label\":\"下线次数\"}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.content.status.offlineTimes)+\" \")])],1)],1)],2),_c('pps-dialog',{attrs:{\"show\":_vm.isShowEditDialog,\"title\":_vm.editDialogData.id},on:{\"confirmed\":_vm.updateConfigFn,\"update:show\":function($event){_vm.isShowEditDialog=$event}}},[_c('template',{slot:\"content\"},[_c('vue-form',{attrs:{\"ui-schema\":_vm.uiSchema,\"schema\":_vm.editDialogData.schema},model:{value:(_vm.editDialogData.origin),callback:function ($$v) {_vm.$set(_vm.editDialogData, \"origin\", $$v)},expression:\"editDialogData.origin\"}},[_c('template',{slot:\"default\"},[_c('span')])],2)],1),_c('template',{slot:\"footer\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card v-resize-ob=\"cardResize\">\r\n    <el-table\r\n      fit\r\n      border\r\n      stripe\r\n      :data=\"bots\"\r\n      :height=\"tableHeight\"\r\n      v-loading=\"isLoading\"\r\n      style=\"width: 100%; font-size: 13px\"\r\n      v-resize-ob=\"handleSizeChange\"\r\n    >\r\n      <el-table-column prop=\"identity\" label=\"ID\" sortable align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"platform\" label=\"聊天平台\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"id\" label=\"平台ID\" align=\"center\"></el-table-column>\r\n      <template v-if=\"!isChangeTable\">\r\n        <el-table-column prop=\"id\" label=\"连接时间\" min-width=\"90\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-trans-time=\"scope.row.status.createTime\"></span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"id\" label=\"上次发送消息时间\" min-width=\"90\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-trans-time=\"scope.row.status.lastMsgTime\"></span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"status.receivedMsg\"\r\n          label=\"接收信息数\"\r\n          align=\"center\"\r\n          sortable\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"status.sentMsg\"\r\n          label=\"发送信息数\"\r\n          align=\"center\"\r\n          sortable\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"status.offlineTimes\"\r\n          label=\"下线次数\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"在线状态\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- <pps-icon icon=\"pps-icon-online\" v-if=\"scope.row.status.value === 'online'\" /> -->\r\n            <pps-icon :icon=\"`pps-icon-${scope.row.status.value}`\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"lang\" label=\"使用语言\" align=\"center\"></el-table-column>\r\n      </template>\r\n      <el-table-column fixed=\"right\" label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <pps-button @click=\"handleViewDetails(scope.row)\" theme=\"text\">详情</pps-button>\r\n          <pps-button theme=\"text\" @click=\"handleEdit(scope.row)\">编辑</pps-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pps-dialog :show.sync=\"isShowDetailsDialog\" :title=\"viewDetailsData.title\">\r\n      <template slot=\"content\">\r\n        <el-descriptions direction=\"vertical\" :column=\"4\" border>\r\n          <el-descriptions-item label=\"上次发送消息时间\">\r\n            <span v-trans-time=\"viewDetailsData.content.status.lastMsgTime\"></span>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"接收信息数\" :span=\"2\">\r\n            {{ viewDetailsData.content.status.receivedMsg }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"发送信息数\">\r\n            {{ viewDetailsData.content.status.sentMsg }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"连接时间\">\r\n            <span v-trans-time=\"viewDetailsData.content.status.createTime\"></span>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"在线状态\">\r\n            <span v-if=\"viewDetailsData.content.status.value === 'online'\">\r\n              <pps-icon icon=\"pps-icon-online\" />\r\n              在线\r\n            </span>\r\n            <span v-else>\r\n              <pps-icon icon=\"pps-icon-offline\" />\r\n              离线\r\n            </span>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"下线次数\">\r\n            {{ viewDetailsData.content.status.offlineTimes }}\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n      </template>\r\n    </pps-dialog>\r\n    <pps-dialog\r\n      @confirmed=\"updateConfigFn\"\r\n      :show.sync=\"isShowEditDialog\"\r\n      :title=\"editDialogData.id\"\r\n    >\r\n      <template slot=\"content\">\r\n        <vue-form\r\n          v-model=\"editDialogData.origin\"\r\n          :ui-schema=\"uiSchema\"\r\n          :schema=\"editDialogData.schema\"\r\n        >\r\n          <template slot=\"\"><span></span></template>\r\n        </vue-form>\r\n      </template>\r\n      <template slot=\"footer\"></template>\r\n    </pps-dialog>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { getBotsDataAPI, getBotsConfigAPI, updateBotsConfigAPI } from '@/api/index';\r\nexport default {\r\n  name: 'botsPage',\r\n  data() {\r\n    return {\r\n      bots: [],\r\n      isChangeTable: false,\r\n      isShowDetailsDialog: false,\r\n      isShowEditDialog: false,\r\n      isLoading: false,\r\n      tableHeight: 0,\r\n      viewDetailsData: {\r\n        title: '提示',\r\n        content: {\r\n          identity: '',\r\n          platform: '',\r\n          id: '',\r\n          lang: '',\r\n          status: {\r\n            createTime: '',\r\n            lastMsgTime: '',\r\n            receivedMsg: '',\r\n            sentMsg: '',\r\n            offlineTimes: '',\r\n            value: ''\r\n          }\r\n        }\r\n      },\r\n      editDialogData: {\r\n        id: '',\r\n        origin: {},\r\n        schema: {}\r\n      },\r\n      schema: {\r\n        type: 'object',\r\n        required: ['userName', 'age'],\r\n        properties: {\r\n          userName: {\r\n            type: 'string',\r\n            title: '用户名',\r\n            default: 'Liu.Jun'\r\n          },\r\n          age: {\r\n            type: 'number',\r\n            title: '年龄'\r\n          },\r\n          bio: {\r\n            type: 'string',\r\n            title: '签名',\r\n            minLength: 10,\r\n            default: '知道的越多、就知道的越少'\r\n          }\r\n        }\r\n      },\r\n      uiSchema: {\r\n        bio: {\r\n          'ui:options': {\r\n            placeholder: '请输入你的签名',\r\n            type: 'textarea',\r\n            rows: 1\r\n          }\r\n        }\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    handleViewDetails(row) {\r\n      this.handleDialogMask(() => {\r\n        // const { data: res } = await getBotsDataAPI(row.identity);\r\n        this.viewDetailsData.content = row;\r\n        this.viewDetailsData.title = row.identity;\r\n      });\r\n    },\r\n    handleEdit(row) {\r\n      this.handleDialogMask(async () => {\r\n        const { data: res } = await getBotsConfigAPI(row.identity);\r\n        this.editDialogData.id = res.id;\r\n        this.editDialogData.origin = res.origin;\r\n        this.editDialogData.schema = res.schema;\r\n      }, true);\r\n    },\r\n    updateConfigFn() {\r\n      const config = this.editDialogData.origin;\r\n      updateBotsConfigAPI(this.editDialogData.id, config)\r\n        .then((res) => {\r\n          if (res.status === 204) {\r\n            return this.$message({\r\n              message: '更新成功！',\r\n              type: 'success'\r\n            });\r\n          }\r\n          return this.$message({\r\n            message: '更新失败！',\r\n            type: 'error'\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.editDialogData.origin = {};\r\n          this.editDialogData.schema = {};\r\n        });\r\n    },\r\n    async handleDialogMask(task, isEdit = false) {\r\n      this.isLoading = true;\r\n      await task();\r\n      this.isLoading = false;\r\n      isEdit ? (this.isShowEditDialog = true) : (this.isShowDetailsDialog = true);\r\n    },\r\n    handleSizeChange(width, _) {\r\n      if (width < 450) {\r\n        this.isChangeTable = true;\r\n        return;\r\n      }\r\n      this.isChangeTable = false;\r\n    },\r\n    cardResize(_, h) {\r\n      this.tableHeight = Math.floor(h) - 40;\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.isLoading = true;\r\n    getBotsDataAPI().then((res) => {\r\n      this.isLoading = false;\r\n      this.bots = res.data;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-card {\r\n  margin-top: 10px;\r\n  height: var(--el-card-height);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3729423f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3729423f&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3729423f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","cardResize","expression","isLoading","handleSizeChange","staticStyle","attrs","bots","tableHeight","isChangeTable","_e","scopedSlots","_u","key","fn","scope","row","status","createTime","lastMsgTime","on","$event","handleViewDetails","_v","handleEdit","isShowDetailsDialog","viewDetailsData","title","slot","content","_s","receivedMsg","sentMsg","offlineTimes","isShowEditDialog","editDialogData","id","updateConfigFn","uiSchema","schema","model","origin","callback","$$v","$set","staticRenderFns","data","identity","platform","lang","type","required","properties","userName","default","age","bio","minLength","placeholder","rows","methods","handleDialogMask","res","getBotsConfigAPI","config","updateBotsConfigAPI","then","$message","message","task","isEdit","width","_","h","Math","floor","computed","mounted","getBotsDataAPI","component"],"sourceRoot":""}