{"version":3,"file":"js/454.9fcb434d.js","mappings":"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","sources":["webpack://kams/./src/views/modules/index.vue","webpack://kams/src/views/modules/index.vue","webpack://kams/./src/views/modules/index.vue?8783","webpack://kams/./src/views/modules/index.vue?1ef6"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{directives:[{name:\"resize-ob\",rawName:\"v-resize-ob\",value:(_vm.cardResize),expression:\"cardResize\"}]},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"},{name:\"resize-ob\",rawName:\"v-resize-ob\",value:(_vm.handleSizeChange),expression:\"handleSizeChange\"}],attrs:{\"fit\":\"\",\"stripe\":\"\",\"data\":_vm.bots,\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"包名\",\"align\":\"center\",\"fixed\":\"left\"}}),(_vm.isChangeTable)?[_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\",\"align\":\"center\"}})]:_vm._e(),_c('el-table-column',{attrs:{\"label\":\"版本\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"v\"+_vm._s(scope.row.version))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"author\",\"label\":\"作者\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pps-button',{attrs:{\"theme\":\"text\"},on:{\"click\":function($event){return _vm.handleViewDetails(scope.row)}}},[_vm._v(\"详情\")]),_c('pps-button',{attrs:{\"theme\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],2),_c('pps-dialog',{attrs:{\"show\":_vm.isShowDetailsDialog},on:{\"update:show\":function($event){_vm.isShowDetailsDialog=$event}}},[_c('template',{slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.viewDetailsData.name))]),(Object.hasOwn(_vm.viewDetailsData, 'dependencies'))?_c('el-select',{attrs:{\"placeholder\":\"版本列表\",\"append-to-body\":false},model:{value:(_vm.formInline),callback:function ($$v) {_vm.formInline=$$v},expression:\"formInline\"}},_vm._l((_vm.obj2Arr(_vm.viewDetailsData.dependencies)),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.value}})}),1):_vm._e()],1),_c('template',{slot:\"content\"},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":2,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"许可证\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.license)+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"文件\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.joinArr(_vm.viewDetailsData.files))+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"语言\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.joinArr(_vm.viewDetailsData.kotori.meta.language))+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"标签\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},_vm._l((_vm.viewDetailsData.keywords),function(item,index){return _c('el-tag',{key:index,attrs:{\"size\":\"small\",\"type\":_vm.tagsType[index],\"effect\":\"dark\"}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1),_c('el-descriptions-item',{attrs:{\"span\":2,\"label\":\"描述\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.description)+\" \")]),_c('el-descriptions-item',{attrs:{\"labelStyle\":{ display: 'none' },\"span\":2}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.viewDetailsData.pluginDependencies}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"key\",\"label\":\"依赖\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"value\",\"label\":\"版本\"}})],1)],1)],1)],1)],2),_c('pps-dialog',{attrs:{\"show\":_vm.isShowEditDialog,\"title\":_vm.editDialogData.id},on:{\"confirmed\":_vm.updateConfigFn,\"canceled\":function($event){1},\"update:show\":function($event){_vm.isShowEditDialog=$event}}},[_c('template',{slot:\"content\"},[_c('vue-form',{attrs:{\"ui-schema\":_vm.uiSchema,\"schema\":_vm.editDialogData.schema},model:{value:(_vm.editDialogData.origin),callback:function ($$v) {_vm.$set(_vm.editDialogData, \"origin\", $$v)},expression:\"editDialogData.origin\"}},[_c('template',{slot:\"default\"},[_c('span')])],2)],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card v-resize-ob=\"cardResize\">\r\n    <el-table\r\n      fit\r\n      stripe\r\n      :data=\"bots\"\r\n      v-loading=\"isLoading\"\r\n      :height=\"tableHeight\"\r\n      v-resize-ob=\"handleSizeChange\"\r\n    >\r\n      <el-table-column prop=\"name\" label=\"包名\" align=\"center\" fixed=\"left\"></el-table-column>\r\n      <template v-if=\"isChangeTable\">\r\n        <el-table-column prop=\"description\" label=\"描述\" align=\"center\"></el-table-column>\r\n      </template>\r\n      <el-table-column label=\"版本\" align=\"center\">\r\n        <template slot-scope=\"scope\">v{{ scope.row.version }}</template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"author\" label=\"作者\" align=\"center\"></el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <pps-button theme=\"text\" @click=\"handleViewDetails(scope.row)\">详情</pps-button>\r\n          <pps-button theme=\"text\" @click=\"handleEdit(scope.row)\">编辑</pps-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 弹窗部分 -->\r\n    <pps-dialog :show.sync=\"isShowDetailsDialog\">\r\n      <template slot=\"title\">\r\n        <span>{{ viewDetailsData.name }}</span>\r\n        <el-select\r\n          v-if=\"Object.hasOwn(viewDetailsData, 'dependencies')\"\r\n          v-model=\"formInline\"\r\n          placeholder=\"版本列表\"\r\n          :append-to-body=\"false\"\r\n        >\r\n          <el-option\r\n            v-for=\"(item, index) in obj2Arr(viewDetailsData.dependencies)\"\r\n            :label=\"item.value\"\r\n            :value=\"item.value\"\r\n            :key=\"index\"\r\n          ></el-option>\r\n        </el-select>\r\n      </template>\r\n      <template slot=\"content\">\r\n        <el-descriptions direction=\"vertical\" :column=\"2\" border>\r\n          <el-descriptions-item\r\n            label=\"许可证\"\r\n            labelClassName=\"my-label\"\r\n            contentClassName=\"my-label\"\r\n          >\r\n            {{ viewDetailsData.license }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"文件\" labelClassName=\"my-label\" contentClassName=\"my-label\">\r\n            {{ joinArr(viewDetailsData.files) }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"语言\" labelClassName=\"my-label\" contentClassName=\"my-label\">\r\n            {{ joinArr(viewDetailsData.kotori.meta.language) }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"标签\" labelClassName=\"my-label\" contentClassName=\"my-label\">\r\n            <el-tag\r\n              size=\"small\"\r\n              v-for=\"(item, index) in viewDetailsData.keywords\"\r\n              :key=\"index\"\r\n              :type=\"tagsType[index]\"\r\n              effect=\"dark\"\r\n            >\r\n              {{ item }}\r\n            </el-tag>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item\r\n            :span=\"2\"\r\n            label=\"描述\"\r\n            labelClassName=\"my-label\"\r\n            contentClassName=\"my-label\"\r\n          >\r\n            {{ viewDetailsData.description }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item :labelStyle=\"{ display: 'none' }\" :span=\"2\">\r\n            <el-table :data=\"viewDetailsData.pluginDependencies\" style=\"width: 100%\">\r\n              <el-table-column align=\"center\" prop=\"key\" label=\"依赖\"></el-table-column>\r\n              <el-table-column align=\"center\" prop=\"value\" label=\"版本\"></el-table-column>\r\n            </el-table>\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n      </template>\r\n    </pps-dialog>\r\n    <pps-dialog\r\n      @confirmed=\"updateConfigFn\"\r\n      @canceled=\"1\"\r\n      :show.sync=\"isShowEditDialog\"\r\n      :title=\"editDialogData.id\"\r\n    >\r\n      <template slot=\"content\">\r\n        <vue-form\r\n          v-model=\"editDialogData.origin\"\r\n          :ui-schema=\"uiSchema\"\r\n          :schema=\"editDialogData.schema\"\r\n        >\r\n          <template slot=\"\"><span></span></template>\r\n        </vue-form>\r\n      </template>\r\n    </pps-dialog>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { getUserModulesAPI, getPluginsConfigAPI, updatePluginsConfigAPI } from '@/api/index';\r\nexport default {\r\n  name: 'modulesPage',\r\n  data() {\r\n    return {\r\n      bots: [],\r\n      isEmpty: true,\r\n      isChangeTable: false,\r\n      isShowDetailsDialog: false,\r\n      isShowEditDialog: false,\r\n      isLoading: false,\r\n      tableHeight: 0,\r\n      pluginDetail: {},\r\n      formInline: '',\r\n      viewDetailsData: {\r\n        name: '',\r\n        version: '',\r\n        description: '',\r\n        hasConfig: true,\r\n        main: 'lib/index.js',\r\n        keywords: [],\r\n        license: '',\r\n        files: [],\r\n        author: '',\r\n        dependencies: {},\r\n        peerDependencies: {\r\n          'kotori-bot': ''\r\n        },\r\n        kotori: {\r\n          meta: {\r\n            language: []\r\n          }\r\n        },\r\n        pluginDependencies: [\r\n          {\r\n            dependencies: '',\r\n            version: ''\r\n          },\r\n          {\r\n            dependencies: '',\r\n            version: ''\r\n          }\r\n        ]\r\n      },\r\n      editDialogData: {\r\n        id: '',\r\n        origin: {},\r\n        schema: {}\r\n      },\r\n      uiSchema: {\r\n        bio: {\r\n          'ui:options': {\r\n            placeholder: '请输入你的签名',\r\n            type: 'textarea',\r\n            rows: 1\r\n          }\r\n        }\r\n      },\r\n      tagsType: ['', 'success', 'info', 'danger', 'warning']\r\n    };\r\n  },\r\n  directives: {},\r\n  methods: {\r\n    handleViewDetails(row) {\r\n      this.isLoading = true;\r\n      this.viewDetailsData = { ...this.wiewDetailsData, ...row };\r\n      if (row.peerDependencies) {\r\n        this.viewDetailsData.pluginDependencies = this.obj2Arr(row.peerDependencies);\r\n      }\r\n      this.isShowDetailsDialog = true;\r\n      this.isLoading = false;\r\n    },\r\n    handleEdit(row) {\r\n      this.isLoading = true;\r\n      getPluginsConfigAPI(row.name).then(({ data: res }) => {\r\n        this.isLoading = false;\r\n        if (!res.origin) {\r\n          return this.$message({\r\n            message: '此插件没有配置文件！',\r\n            type: 'warning'\r\n          });\r\n        }\r\n        this.editDialogData.origin = res.origin;\r\n        this.editDialogData.schema = res.schema;\r\n        this.editDialogData.id = row.name;\r\n        this.isShowEditDialog = true;\r\n      });\r\n    },\r\n    updateConfigFn() {\r\n      const config = this.editDialogData.origin;\r\n      updatePluginsConfigAPI(this.editDialogData.id, config)\r\n        .then((res) => {\r\n          if (res.status === 204) {\r\n            return this.$message({\r\n              message: '更新成功！',\r\n              type: 'success'\r\n            });\r\n          }\r\n          return this.$message({\r\n            message: '更新失败！',\r\n            type: 'error'\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.editDialogData.origin = {};\r\n          this.editDialogData.schema = {};\r\n        });\r\n    },\r\n    handleSizeChange(width, _) {\r\n      if (width < 450) {\r\n        this.isChangeTable = false;\r\n        return;\r\n      }\r\n      this.isChangeTable = true;\r\n    },\r\n    cardResize(_, h) {\r\n      this.tableHeight = Math.floor(h) - 40;\r\n    },\r\n    obj2Arr(obj) {\r\n      return Object.keys(obj).map((key) => ({ key, value: obj[key] }));\r\n    },\r\n    joinArr(arr) {\r\n      return arr.join('、');\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.isLoading = true;\r\n    getUserModulesAPI().then(({ data: res }) => {\r\n      this.bots = res;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-card {\r\n  margin-top: 10px;\r\n  height: var(--el-card-height);\r\n  &::v-deep .pps-dialog-content {\r\n    max-width: 500px;\r\n  }\r\n}\r\n.el-table {\r\n  font-size: 14px;\r\n}\r\n.my-label {\r\n  text-align: center !important;\r\n}\r\n.el-tag + .el-tag {\r\n  margin-left: 10px;\r\n}\r\n::v-deep .el-table__body-wrapper {\r\n  &::-webkit-scrollbar {\r\n    width: 5px; // 设置滚动条的宽度\r\n    height: 5px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: transparent;\r\n    width: 5px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    position: absolute;\r\n    right: -5px;\r\n    width: 5px;\r\n    background: #88888870;\r\n    border-radius: 6px;\r\n  }\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #888888; // 鼠标悬停时滚动条的颜色\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=46067565&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=46067565&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46067565\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","cardResize","expression","isLoading","handleSizeChange","attrs","bots","tableHeight","isChangeTable","_e","scopedSlots","_u","key","fn","scope","_v","_s","row","version","on","$event","handleViewDetails","handleEdit","isShowDetailsDialog","slot","viewDetailsData","Object","hasOwn","model","formInline","callback","$$v","_l","obj2Arr","dependencies","item","index","license","joinArr","files","kotori","meta","language","keywords","tagsType","description","display","staticStyle","pluginDependencies","isShowEditDialog","editDialogData","id","updateConfigFn","uiSchema","schema","origin","$set","staticRenderFns","data","isEmpty","pluginDetail","hasConfig","main","author","peerDependencies","bio","placeholder","type","rows","methods","wiewDetailsData","getPluginsConfigAPI","then","res","$message","message","config","updatePluginsConfigAPI","status","width","_","h","Math","floor","obj","keys","map","arr","join","computed","mounted","getUserModulesAPI","component"],"sourceRoot":""}