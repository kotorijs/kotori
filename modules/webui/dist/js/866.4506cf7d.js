"use strict";(self["webpackChunkkams"]=self["webpackChunkkams"]||[]).push([[866],{7863:function(t,s,e){e.d(s,{A:function(){return c}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"dropdown-wrapper"},[s("div",{staticClass:"dropdown",on:{click:function(s){t.isShowSelect=!t.isShowSelect}}},[s("input",{staticClass:"select-label",attrs:{type:"text",readonly:""},domProps:{value:`${t.text}`}}),t._m(0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelect,expression:"isShowSelect"}],staticClass:"dropdown-menu"},t._l(t.menu,(function(e,i){return s("div",{key:i,staticClass:"select-item",on:{click:function(s){return t.selectSslFn(e)}}},[t._v(" "+t._s(`${e}`)+" ")])})),0)])},o=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"icon"},[s("i",{staticClass:"el-icon-arrow-down"})])}],a={name:"dropdown",data(){return{isShowSelect:!1,text:""}},props:{menu:Array,current:String},methods:{selectSslFn(t){this.isShowSelect=!1,this.text=t,this.$emit("select",t)},close(t){this.$el.contains(t.target)||(this.isShowSelect=!1)}},watch:{current(t){this.text=t}},mounted(){this.text=this.current||this.menu[0],document.addEventListener("click",this.close)},beforeDestroy(){document.removeEventListener("click",this.close)}},n=a,l=e(1656),r=(0,l.A)(n,i,o,!1,null,null,null),c=r.exports},1349:function(t,s,e){e.d(s,{A:function(){return c}});var i=function(){var t=this,s=t._self._c;return s("aside",{ref:"aside",staticClass:"k-sb-aside k-aside"},[s("div",{staticClass:"k-aside-default"},[t._t("default")],2),s("div",{staticClass:"k-aside-inner"},[t._t("inner")],2)])},o=[],a={name:"k-sb-aside"},n=a,l=e(1656),r=(0,l.A)(n,i,o,!1,null,null,null),c=r.exports},5675:function(t,s,e){e.d(s,{A:function(){return c}});var i=function(){var t=this,s=t._self._c;return s("section",{staticClass:"k-container",class:`k-container-${t.direction}`},[t._t("default")],2)},o=[],a={name:"k-container",props:{direction:{type:String,default:"horizontal"}},computed:{}},n=a,l=e(1656),r=(0,l.A)(n,i,o,!1,null,null,null),c=r.exports},1866:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var i=function(){var t=this,s=t._self._c;return s("el-card",{directives:[{name:"resize-ob",rawName:"v-resize-ob",value:t.cardResize,expression:"cardResize"}]},[s("k-container",[s("main",[s("pps-form",{on:{submit:t.submitFn,reset:t.resetFn}},[s("div",{staticClass:"k-list"},[s("h3",[t._v("全局配置")]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("端口：")]),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.port,callback:function(s){t.$set(t.form,"port",s)},expression:"form.port"}})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("命令前缀 :")]),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form["command-prefix"],callback:function(s){t.$set(t.form,"command-prefix",s)},expression:"form['command-prefix']"}})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("自动加载模块目录 :")]),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.dirs[1],callback:function(s){t.$set(t.form.dirs,1,s)},expression:"form.dirs[1]"}})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("是否使用彩色日志输出 :")]),s("el-switch",{attrs:{"active-color":"#00aeed"},model:{value:t.form.noColor,callback:function(s){t.$set(t.form,"noColor",s)},expression:"form.noColor"}})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("日志等级 :")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.level,callback:function(s){t.$set(t.form,"level",s)},expression:"form.level"}},t._l(t.staticForm.level,(function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("语言类型 :")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.lang,callback:function(s){t.$set(t.form,"lang",s)},expression:"form.lang"}},t._l(t.staticForm.lang,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("div"),s("div",{staticClass:"btn"},[s("pps-button",{attrs:{theme:"confirm"}},[t._v("提交")]),s("pps-button",{attrs:{theme:"default",type:"reset"}},[t._v("重置")])],1)])])])]),s("pps-form",{on:{submit:function(s){return t.submitBackendFn()},reset:function(s){return t.resetBackendFn()}}},[s("div",{staticClass:"k-list"},[s("div",[s("h3",[t._v("后端设置")]),s("p",{staticClass:"tip"},[t._v("警告！若无需分离前后端请谨慎修改！")])]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("后端IP地址")]),s("pps-input",{staticStyle:{position:"relative"},attrs:{content:t.hostForm.host,placeholder:"无前缀后端IP地址"},on:{"update:content":function(s){return t.$set(t.hostForm,"host",s)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("dp",{attrs:{current:t.hostForm.protocol,menu:["https","http"]},on:{select:t.selectSslFn}})]},proxy:!0}])})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("后端端口号")]),s("pps-input",{attrs:{content:t.hostForm.port,placeholder:"后端端口号"},on:{"update:content":function(s){return t.$set(t.hostForm,"port",s)}}})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("span",[t._v("沙盒ws是否长连")]),s("el-switch",{attrs:{"active-color":"#00aeed"},on:{change:t.setSandboxWsAliveFn},model:{value:t.isKeepSandboxWsAlive,callback:function(s){t.isKeepSandboxWsAlive=s},expression:"isKeepSandboxWsAlive"}})],1)]),s("div",{staticClass:"k-list-item"},[s("div",{staticClass:"k-list-main"},[s("div"),s("div",{staticClass:"btn"},[s("pps-button",{attrs:{theme:"confirm"}},[t._v("提交")]),s("pps-button",{attrs:{theme:"default",type:"reset"}},[t._v("重置")])],1)])])])])],1),s("k-aside")],1)],1)},o=[],a=e(1552),n=e(5675),l=e(3518),r=e(1349),c=e(7863),d=e(5563),u=e(6848);const m={data(){return{isKeepSandboxWsAlive:!1,form:{"command-prefix":"",port:null,lang:null,noColor:!0,level:10,dirs:[]},staticForm:{lang:["en_US","ja_JP","zh_TW","zh_CN"],level:[{label:"TRACE",value:10},{label:"DEBUG",value:20},{label:"RECORD",value:25},{label:"INFO",value:30},{label:"WARN",value:40},{label:"ERROR",value:50},{label:"FATAL",value:60},{label:"SILENT",value:70}],dirs:[]},hostForm:{host:"",port:"",protocol:"https"},isLoading:!1,isShowSelect:!1,listWidth:0,isPadding:1}},components:{kContainer:n.A,kAside:r.A,dp:c.A},methods:{...(0,l.PY)("sandBox",["SET_SANDBOX_WS_KEEPALIVE"]),async getConfig(){const{data:t}=await(0,a.gg)();this.form={...this.form,...t}},async submitFn(){(0,a.n6)(this.form).then((t=>{204===t.status?this.$message.success("修改成功！"):this.$message.error("修改失败！")}))},resetFn(){this.getConfig(),this.$message.info("已重置！")},submitBackendFn(){const t={host:this.hostForm.host,port:this.hostForm.port,protocol:this.hostForm.protocol};(0,d.Dh)({configData:t})},resetBackendFn(){this.hostForm.host=this.host,this.hostForm.port=this.port,this.hostForm.protocol=this.protocol,this.$message.info("已重置！")},selectSslFn(t){this.hostForm.protocol=t},cardResize(t,s){Math.floor(t)<=700?(this.listWidth=100,this.isPadding=0):(this.listWidth=90,this.isPadding=1)},initSandboxWsAliveFn(){this.isKeepSandboxWsAlive=this.store_keepSandboxWsAlive},setSandboxWsAliveFn(t){this.SET_SANDBOX_WS_KEEPALIVE(t)}},computed:{...(0,l.aH)("layoutOption",["host","port","protocol"]),...(0,l.aH)("sandBox",{store_keepSandboxWsAlive:"isKeepSandboxWsAlive"})},watch:{host:{handler(t,s){this.hostForm.host=t},immediate:!0},port:{handler(t,s){this.hostForm.port=t},immediate:!0},protocol:{handler(t,s){this.hostForm.protocol=t},immediate:!0}},mounted(){},created(){this.getConfig(),this.initSandboxWsAliveFn()}},p=()=>{(0,u.useCssVars)(((t,s)=>({bf633dd4:t.isPadding})))},h=m.setup;m.setup=h?(t,s)=>(p(),h(t,s)):p;var v=m,f=v,k=e(1656),b=(0,k.A)(f,i,o,!1,null,"5a6b2b2e",null),C=b.exports}}]);
//# sourceMappingURL=866.4506cf7d.js.map